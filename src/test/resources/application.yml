spring:
  datasource:
    driverClassName: org.testcontainers.jdbc.ContainerDatabaseDriver
    url: jdbc:tc:postgis:13-3.1-alpine:///
  liquibase:
    enabled: true
    change-log: classpath:db/changelog/test-master-changelog.xml
  cache:
    redis:
      time-to-live: 86400
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: https://keycloak01.kontur.io/auth/realms/kontur
          jwk-set-uri: https://keycloak01.kontur.io/auth/realms/kontur/protocol/openid-connect/certs

bivatiateMatrix:
  highCorrelationLevel: 0.8

cache:
  maximumSize: 10000
  functions: true
  humanitarian-impact: true
  osm-quality: true
  population: true
  thermal-spot: true
  urban-core: true
  correlation-rate: true
  advanced-analytics: true
  covariance-rate: true
  metrics: true

graphql-request:
  parser-options:
    max-tokens: 0x7fffffff #Integer.MAX_VALUE

calculations:
  useStatSeparateTables: true
  # TODO: temp configuration, delete when we have final version of transposed table
  bivariate:
    transposed:
      table: stat_h3_transposed
    indicators:
      table: bivariate_indicators
      test:
        table: bivariate_indicators_metadata
    axis:
      table: bivariate_axis
      test:
        table: bivariate_axis_v2
    correlations:
      table: bivariate_axis_correlation
      test:
        table: bivariate_axis_correlation_v2
    stats:
      table: bivariate_axis_stats
      test:
        table: bivariate_axis_stats_v2
  tiles:
    tile-size: 512
    hex-edge-pixels: 5
    max-h3-resolution: 8
    min-h3-resolution: 0
    max-zoom: 15
    min-zoom: 0
